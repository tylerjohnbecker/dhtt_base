\hypertarget{classdhtt__plugins_1_1ActionType}{}\doxysection{dhtt\+\_\+plugins\+::Action\+Type Class Reference}
\label{classdhtt__plugins_1_1ActionType}\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}


parent class of all behavior/action type nodes  




{\ttfamily \#include $<$action\+\_\+type.\+hpp$>$}



Inheritance diagram for dhtt\+\_\+plugins\+::Action\+Type\+:
% FIG 0


Collaboration diagram for dhtt\+\_\+plugins\+::Action\+Type\+:
% FIG 1
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_a381962c71b85e6a8517845db1a737f79}{initialize}} (std\+::vector$<$ std\+::string $>$ \mbox{\hyperlink{classdhtt_1_1NodeType_a2cf719d31abbbad3a06e6c0ecc4915cf}{params}}) override
\begin{DoxyCompactList}\small\item\em initializer for all action type behaviors \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ dhtt\+\_\+msgs\+::action\+::\+Activation\+::\+Result $>$ \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_a85e7c1065776a83857a0638b2ce8f9c4}{auction\+\_\+callback}} (\mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} $\ast$container) override
\begin{DoxyCompactList}\small\item\em auction callback implementation for all action type behaviors \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ dhtt\+\_\+msgs\+::action\+::\+Activation\+::\+Result $>$ \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_a56a3ef4023591aef5d034b6355a39715}{work\+\_\+callback}} (\mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} $\ast$container) override
\begin{DoxyCompactList}\small\item\em work callback implementation for all action type behaviors \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_a21045341e10bb308d820d358e245a69e}{do\+\_\+work}} (\mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} $\ast$container)=0
\begin{DoxyCompactList}\small\item\em abstract function for actually sending instructions to the robot \end{DoxyCompactList}\item 
virtual std\+::vector$<$ dhtt\+\_\+msgs\+::msg\+::\+Resource $>$ \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_ae3ad0f892ab63af468d32558133e56b6}{get\+\_\+retained\+\_\+resources}} (\mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} $\ast$container)=0
\begin{DoxyCompactList}\small\item\em returns a list of all resources that are meant to be retained \end{DoxyCompactList}\item 
virtual std\+::vector$<$ dhtt\+\_\+msgs\+::msg\+::\+Resource $>$ \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_a4d13f0427472ee48731da1003e23270a}{get\+\_\+released\+\_\+resources}} (\mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} $\ast$container)=0
\begin{DoxyCompactList}\small\item\em returns the list of resources to release \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_a5dada7d97dfbd1bed5abfb9ccb295a62}{is\+\_\+done}} () override
\begin{DoxyCompactList}\small\item\em getter for the internal done variable \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_a9b84d261334eb62f46f486d32d921619}{done}}
\item 
double \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_a002adba9f472d4b3bdf329cd49824d98}{activation\+\_\+potential}}
\item 
std\+::vector$<$ dhtt\+\_\+msgs\+::msg\+::\+Resource $>$ \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_aa23c79790c31c709b956dd2f3a1f6990}{necessary\+\_\+resources}}
\item 
std\+::shared\+\_\+ptr$<$ rclcpp\+::\+Node $>$ \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_a4ba037e1b5e2f516742154581775d237}{pub\+\_\+node\+\_\+ptr}}
\item 
std\+::shared\+\_\+ptr$<$ rclcpp\+::executors\+::\+Single\+Threaded\+Executor $>$ \mbox{\hyperlink{classdhtt__plugins_1_1ActionType_accb37da08c81000f71808aff42ce434e}{executor}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
parent class of all behavior/action type nodes 

This class is a useful abstraction that removes the necessity for behaviors to all have to generate their own requests for resources. Nodes that inherit from this class just define their necessary resources, what resources they keep/release, and what they do during the work\+\_\+callback rather than defining everything. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_a85e7c1065776a83857a0638b2ce8f9c4}\label{classdhtt__plugins_1_1ActionType_a85e7c1065776a83857a0638b2ce8f9c4}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!auction\_callback@{auction\_callback}}
\index{auction\_callback@{auction\_callback}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{auction\_callback()}{auction\_callback()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ dhtt\+\_\+msgs\+::action\+::\+Activation\+::\+Result $>$ dhtt\+\_\+plugins\+::\+Action\+Type\+::auction\+\_\+callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} $\ast$}]{container }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



auction callback implementation for all action type behaviors 

Generates a request for resources based on the necessary\+\_\+resources member.


\begin{DoxyParams}{Parameters}
{\em container} & a pointer to the node which is running this logic.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
resulting request for the action server in \mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classdhtt_1_1NodeType_ade96117263a722919bf770a1c74e5e52}{dhtt\+::\+Node\+Type}}.

\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_a21045341e10bb308d820d358e245a69e}\label{classdhtt__plugins_1_1ActionType_a21045341e10bb308d820d358e245a69e}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!do\_work@{do\_work}}
\index{do\_work@{do\_work}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{do\_work()}{do\_work()}}
{\footnotesize\ttfamily virtual void dhtt\+\_\+plugins\+::\+Action\+Type\+::do\+\_\+work (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} $\ast$}]{container }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



abstract function for actually sending instructions to the robot 

Every action type behavior performs some work (on the robot or otherwise) which should be implemented in this function. If any topics etc. need to be handled their is an executor that is initialized by default which can be used by inheritors to make those connections.


\begin{DoxyParams}{Parameters}
{\em container} & similar to work\+\_\+callback this is a pointer to the node which is running this logic.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classdhtt__plugins_1_1MoveBehavior_a20c025ec89cb2678f2e08fd55da42bcc}{dhtt\+\_\+plugins\+::\+Move\+Behavior}}, \mbox{\hyperlink{classdhtt__plugins_1_1PickBehavior_a87cad3b5c19a0cf536c6f30e0a1d402c}{dhtt\+\_\+plugins\+::\+Pick\+Behavior}}, and \mbox{\hyperlink{classdhtt__plugins_1_1PlaceBehavior_a722634e89fd4b4d337abb8e380a0797d}{dhtt\+\_\+plugins\+::\+Place\+Behavior}}.

\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_a4d13f0427472ee48731da1003e23270a}\label{classdhtt__plugins_1_1ActionType_a4d13f0427472ee48731da1003e23270a}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!get\_released\_resources@{get\_released\_resources}}
\index{get\_released\_resources@{get\_released\_resources}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{get\_released\_resources()}{get\_released\_resources()}}
{\footnotesize\ttfamily virtual std\+::vector$<$ dhtt\+\_\+msgs\+::msg\+::\+Resource $>$ dhtt\+\_\+plugins\+::\+Action\+Type\+::get\+\_\+released\+\_\+resources (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} $\ast$}]{container }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



returns the list of resources to release 

Resources are always released by default, so this list should be owned\+\_\+resources -\/ retained\+\_\+resources.


\begin{DoxyParams}{Parameters}
{\em container} & similar to work\+\_\+callback this is a pointer to the node which is running this logic.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
list of all resources to release 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classdhtt__plugins_1_1MoveBehavior_a337349f5a15c96ae5922fb1858a43a1a}{dhtt\+\_\+plugins\+::\+Move\+Behavior}}, \mbox{\hyperlink{classdhtt__plugins_1_1PickBehavior_a639226ff83f42910100b6b2a810fddd2}{dhtt\+\_\+plugins\+::\+Pick\+Behavior}}, and \mbox{\hyperlink{classdhtt__plugins_1_1PlaceBehavior_a7a12629730d602b9ea3d424935993e7b}{dhtt\+\_\+plugins\+::\+Place\+Behavior}}.

\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_ae3ad0f892ab63af468d32558133e56b6}\label{classdhtt__plugins_1_1ActionType_ae3ad0f892ab63af468d32558133e56b6}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!get\_retained\_resources@{get\_retained\_resources}}
\index{get\_retained\_resources@{get\_retained\_resources}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{get\_retained\_resources()}{get\_retained\_resources()}}
{\footnotesize\ttfamily virtual std\+::vector$<$ dhtt\+\_\+msgs\+::msg\+::\+Resource $>$ dhtt\+\_\+plugins\+::\+Action\+Type\+::get\+\_\+retained\+\_\+resources (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} $\ast$}]{container }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



returns a list of all resources that are meant to be retained 

Retained resources should be kept based on the assumption that the next behavior (only under a THEN node where ordering is guaranteed) will need them. For example, if a robot moves to pick up an object and does not keep control of the base there is a chance that the object would not be picked up which could cause the tree to become uncompletable. Another example is keeping access to an arm after picking up an object so that the arm isn\textquotesingle{}t subsequently used for something else.


\begin{DoxyParams}{Parameters}
{\em container} & similar to work\+\_\+callback this is a pointer to the node which is running this logic.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
list of any retained resources of this behavior 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classdhtt__plugins_1_1MoveBehavior_a080dcf3afc2376066296b00107860dd4}{dhtt\+\_\+plugins\+::\+Move\+Behavior}}, \mbox{\hyperlink{classdhtt__plugins_1_1PickBehavior_aef37bea635b234e661d71cd9deec8c5d}{dhtt\+\_\+plugins\+::\+Pick\+Behavior}}, and \mbox{\hyperlink{classdhtt__plugins_1_1PlaceBehavior_a0f9901857b22b0e429ff737233e4ee10}{dhtt\+\_\+plugins\+::\+Place\+Behavior}}.

\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_a381962c71b85e6a8517845db1a737f79}\label{classdhtt__plugins_1_1ActionType_a381962c71b85e6a8517845db1a737f79}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!initialize@{initialize}}
\index{initialize@{initialize}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily void dhtt\+\_\+plugins\+::\+Action\+Type\+::initialize (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::string $>$}]{params }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



initializer for all action type behaviors 

Iniatilizes all the relevant flags for a behavior on the tree. Also, initializes a rclcpp\+::\+Node and a rclcpp\+::executors\+::\+Single\+Threaded\+Executor which are meant to be used by the action type behavior to publish/subscribe relevant information and commands to the robot.


\begin{DoxyParams}{Parameters}
{\em params} & list of behavior specific params parsed from the yaml description file\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classdhtt_1_1NodeType_a032e89c0ab0f0bab69d1816ccabc8242}{dhtt\+::\+Node\+Type}}.

\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_a5dada7d97dfbd1bed5abfb9ccb295a62}\label{classdhtt__plugins_1_1ActionType_a5dada7d97dfbd1bed5abfb9ccb295a62}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!is\_done@{is\_done}}
\index{is\_done@{is\_done}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{is\_done()}{is\_done()}}
{\footnotesize\ttfamily bool dhtt\+\_\+plugins\+::\+Action\+Type\+::is\+\_\+done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



getter for the internal done variable 

The do\+\_\+work function should only flip the done flag if work is done, however, if the flag is never flipped this node will be re-\/run by the tree.

\begin{DoxyReturn}{Returns}
True if done, false otherwise 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classdhtt_1_1NodeType_ad6d899627452745cede4dc723ef57b70}{dhtt\+::\+Node\+Type}}.

\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_a56a3ef4023591aef5d034b6355a39715}\label{classdhtt__plugins_1_1ActionType_a56a3ef4023591aef5d034b6355a39715}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!work\_callback@{work\_callback}}
\index{work\_callback@{work\_callback}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{work\_callback()}{work\_callback()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ dhtt\+\_\+msgs\+::action\+::\+Activation\+::\+Result $>$ dhtt\+\_\+plugins\+::\+Action\+Type\+::work\+\_\+callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} $\ast$}]{container }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



work callback implementation for all action type behaviors 

Calls the do\+\_\+work function for action specific work, then generates the result which contains the information about which resources to retain/release based on the defined logic in this class.


\begin{DoxyParams}{Parameters}
{\em container} & a pointer to the node which is running this logic.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
resulting request for the action server in \mbox{\hyperlink{classdhtt_1_1Node}{dhtt\+::\+Node}} 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classdhtt_1_1NodeType_a746c54085a57734a637a30a05c610e91}{dhtt\+::\+Node\+Type}}.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_a002adba9f472d4b3bdf329cd49824d98}\label{classdhtt__plugins_1_1ActionType_a002adba9f472d4b3bdf329cd49824d98}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!activation\_potential@{activation\_potential}}
\index{activation\_potential@{activation\_potential}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{activation\_potential}{activation\_potential}}
{\footnotesize\ttfamily double dhtt\+\_\+plugins\+::\+Action\+Type\+::activation\+\_\+potential\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_a9b84d261334eb62f46f486d32d921619}\label{classdhtt__plugins_1_1ActionType_a9b84d261334eb62f46f486d32d921619}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!done@{done}}
\index{done@{done}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{done}{done}}
{\footnotesize\ttfamily bool dhtt\+\_\+plugins\+::\+Action\+Type\+::done\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_accb37da08c81000f71808aff42ce434e}\label{classdhtt__plugins_1_1ActionType_accb37da08c81000f71808aff42ce434e}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!executor@{executor}}
\index{executor@{executor}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{executor}{executor}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$rclcpp\+::executors\+::\+Single\+Threaded\+Executor$>$ dhtt\+\_\+plugins\+::\+Action\+Type\+::executor\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_aa23c79790c31c709b956dd2f3a1f6990}\label{classdhtt__plugins_1_1ActionType_aa23c79790c31c709b956dd2f3a1f6990}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!necessary\_resources@{necessary\_resources}}
\index{necessary\_resources@{necessary\_resources}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{necessary\_resources}{necessary\_resources}}
{\footnotesize\ttfamily std\+::vector$<$dhtt\+\_\+msgs\+::msg\+::\+Resource$>$ dhtt\+\_\+plugins\+::\+Action\+Type\+::necessary\+\_\+resources\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdhtt__plugins_1_1ActionType_a4ba037e1b5e2f516742154581775d237}\label{classdhtt__plugins_1_1ActionType_a4ba037e1b5e2f516742154581775d237}} 
\index{dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}!pub\_node\_ptr@{pub\_node\_ptr}}
\index{pub\_node\_ptr@{pub\_node\_ptr}!dhtt\_plugins::ActionType@{dhtt\_plugins::ActionType}}
\doxysubsubsection{\texorpdfstring{pub\_node\_ptr}{pub\_node\_ptr}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$rclcpp\+::\+Node$>$ dhtt\+\_\+plugins\+::\+Action\+Type\+::pub\+\_\+node\+\_\+ptr\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
dhtt\+\_\+plugins/include/dhtt\+\_\+plugins/behaviors/\mbox{\hyperlink{action__type_8hpp}{action\+\_\+type.\+hpp}}\end{DoxyCompactItemize}
