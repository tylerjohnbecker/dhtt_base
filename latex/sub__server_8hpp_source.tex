\hypertarget{sub__server_8hpp_source}{}\doxysection{sub\+\_\+server.\+hpp}
\label{sub__server_8hpp_source}\index{dhtt/include/dhtt/server/sub\_server.hpp@{dhtt/include/dhtt/server/sub\_server.hpp}}
\mbox{\hyperlink{sub__server_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef SUB\_SERVER\_HPP\_}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define SUB\_SERVER\_HPP\_}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{comment}{// cpp includes}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <experimental/filesystem>}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{comment}{// ros2 includes}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}rclcpp/rclcpp.hpp"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}rclcpp\_action/rclcpp\_action.hpp"{}}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{comment}{// dhtt message includes}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}dhtt\_msgs/msg/node.hpp"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}dhtt\_msgs/msg/pair.hpp"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include "{}dhtt\_msgs/msg/update\_info.hpp"{}}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include "{}dhtt\_msgs/msg/result.hpp"{}}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}dhtt\_msgs/srv/fetch\_info.hpp"{}}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include "{}dhtt\_msgs/srv/fetch\_request.hpp"{}}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include "{}dhtt\_msgs/srv/modify\_request.hpp"{}}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}dhtt\_msgs/srv/control\_request.hpp"{}}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include "{}dhtt\_msgs/srv/goitr\_request.hpp"{}}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacedhtt}{dhtt}}}
\DoxyCodeLine{26 \{}
\DoxyCodeLine{27 }
\DoxyCodeLine{36     \textcolor{keyword}{class }\mbox{\hyperlink{classdhtt_1_1SubServer}{SubServer}} : \textcolor{keyword}{public} rclcpp::Node}
\DoxyCodeLine{37     \{}
\DoxyCodeLine{38     \textcolor{keyword}{public}:}
\DoxyCodeLine{39 }
\DoxyCodeLine{40         \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classdhtt_1_1SubServer_acd92668299ac4a2d02fd8ac7e5da9b19}{GoitrType}};}
\DoxyCodeLine{41 }
\DoxyCodeLine{51         \mbox{\hyperlink{classdhtt_1_1SubServer_a51d68cc84b58c3a0b8496e889ea49e69}{SubServer}}( std::string \mbox{\hyperlink{classdhtt_1_1SubServer_ac05ec1081b16027f67215d16a7bbc6c3}{node\_name}} , std::string subtree\_filename, std::vector<std::string> file\_args );}
\DoxyCodeLine{52 }
\DoxyCodeLine{53         \mbox{\hyperlink{classdhtt_1_1SubServer_af5e4ff417909d69e24694b842fa32ed4}{\string~SubServer}}();}
\DoxyCodeLine{54 }
\DoxyCodeLine{65         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdhtt_1_1SubServer_a441dfee8f4692dab9937d60addc921c7}{add\_node}}(std::string parent\_name, dhtt\_msgs::msg::Node to\_add);}
\DoxyCodeLine{66 }
\DoxyCodeLine{76         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdhtt_1_1SubServer_a6ee430f57a34e44e28af05414d33d31f}{remove\_node}}(std::string to\_remove);}
\DoxyCodeLine{77 }
\DoxyCodeLine{88         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdhtt_1_1SubServer_a07622fa93e822c486d8fb8b38f732551}{change\_params}}(std::string \mbox{\hyperlink{classdhtt_1_1SubServer_ac05ec1081b16027f67215d16a7bbc6c3}{node\_name}}, std::vector<std::string> new\_params);}
\DoxyCodeLine{89 }
\DoxyCodeLine{97         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdhtt_1_1SubServer_a7b492bf024f5235b1f46d84b0a80c860}{start\_servers}}();}
\DoxyCodeLine{98 }
\DoxyCodeLine{108         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdhtt_1_1SubServer_ae50f0c6e41b321dbd3f9b6275861558d}{build\_subtree}}();}
\DoxyCodeLine{109 }
\DoxyCodeLine{120         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdhtt_1_1SubServer_a8b948f4950a4b7f8b1b5f321953d5809}{fetch\_subtree}}(std::shared\_ptr<dhtt\_msgs::srv::FetchRequest::Response> response);}
\DoxyCodeLine{121 }
\DoxyCodeLine{122         std::string \mbox{\hyperlink{classdhtt_1_1SubServer_a6a8aac92652fe269139da848834f2696}{main\_server\_topic}}, \mbox{\hyperlink{classdhtt_1_1SubServer_ac05ec1081b16027f67215d16a7bbc6c3}{node\_name}}; }
\DoxyCodeLine{123         std::vector<std::string> \mbox{\hyperlink{classdhtt_1_1SubServer_ae4eb0578013b24aab89278afd5de915e}{child\_node\_names}};}
\DoxyCodeLine{124 }
\DoxyCodeLine{125         std::map<std::string, std::shared\_future<dhtt\_msgs::srv::ModifyRequest::Response::SharedPtr>> \mbox{\hyperlink{classdhtt_1_1SubServer_aa1e501a8a81e4f55900196596e4c0d00}{futures\_to\_process}};}
\DoxyCodeLine{126         std::map<std::string, bool> \mbox{\hyperlink{classdhtt_1_1SubServer_a28e5a820e5510c7ce14985bb924753be}{future\_complete}};}
\DoxyCodeLine{127 }
\DoxyCodeLine{128     \textcolor{keyword}{private}:}
\DoxyCodeLine{129         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdhtt_1_1SubServer_aeb0147309af9474dbaa232025dd6e1b5}{modify}}( \textcolor{keyword}{const} std::shared\_ptr<dhtt\_msgs::srv::ModifyRequest::Request> request, std::shared\_ptr<dhtt\_msgs::srv::ModifyRequest::Response> response );}
\DoxyCodeLine{130         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdhtt_1_1SubServer_a243775af7ea592966d207e71649a1d33}{fetch}}( \textcolor{keyword}{const} std::shared\_ptr<dhtt\_msgs::srv::FetchRequest::Request> request, std::shared\_ptr<dhtt\_msgs::srv::FetchRequest::Response> response );}
\DoxyCodeLine{131 }
\DoxyCodeLine{132         \textcolor{keywordtype}{void} \mbox{\hyperlink{classdhtt_1_1SubServer_a19d79b91f0c95482f50da348e0f91bf9}{update\_to\_fit\_request}}(\textcolor{keyword}{const} std::shared\_ptr<dhtt\_msgs::srv::ModifyRequest::Request> request, std::shared\_ptr<dhtt\_msgs::srv::ModifyRequest::Response> response);}
\DoxyCodeLine{133 }
\DoxyCodeLine{134         rclcpp::Client<dhtt\_msgs::srv::ModifyRequest>::SharedPtr \mbox{\hyperlink{classdhtt_1_1SubServer_af68ad5c893651d962d29d845063d0a40}{modify\_client}};}
\DoxyCodeLine{135         rclcpp::Client<dhtt\_msgs::srv::FetchRequest>::SharedPtr \mbox{\hyperlink{classdhtt_1_1SubServer_ac278981a03a615234c1ea13b7e30a893}{fetch\_client}};}
\DoxyCodeLine{136 }
\DoxyCodeLine{137         rclcpp::Service<dhtt\_msgs::srv::GoitrRequest>::SharedPtr \mbox{\hyperlink{classdhtt_1_1SubServer_a93bb1c98f2039ff81f41946294550b5c}{parent\_service}};}
\DoxyCodeLine{138 }
\DoxyCodeLine{139         rclcpp::Publisher<dhtt\_msgs::msg::Result>::SharedPtr \mbox{\hyperlink{classdhtt_1_1SubServer_a974e626f2f700de30536cd41fdf0b73c}{result\_pub}};}
\DoxyCodeLine{140 }
\DoxyCodeLine{141         std::string \mbox{\hyperlink{classdhtt_1_1SubServer_a1fa304cb779c1f9e332159cf14385764}{filename}};}
\DoxyCodeLine{142         std::vector<std::string> \mbox{\hyperlink{classdhtt_1_1SubServer_a7d687866ec33eef0207fc70c43c9685b}{args}};}
\DoxyCodeLine{143 }
\DoxyCodeLine{144         std::shared\_ptr<std::thread> \mbox{\hyperlink{classdhtt_1_1SubServer_a5452b08637c0ebec64a5add526a36fd6}{service\_thread}};}
\DoxyCodeLine{145         std::mutex \mbox{\hyperlink{classdhtt_1_1SubServer_aee041acd7d16894e53f2dc12af793c07}{thread\_mut}};}
\DoxyCodeLine{146 }
\DoxyCodeLine{147 }
\DoxyCodeLine{148         \textcolor{keywordtype}{int} \mbox{\hyperlink{classdhtt_1_1SubServer_adf50b889a63cbfe7fbb5a474d890ff16}{threads\_running}};}
\DoxyCodeLine{149 }
\DoxyCodeLine{150     \};}
\DoxyCodeLine{151 }
\DoxyCodeLine{152 \}}
\DoxyCodeLine{153 }
\DoxyCodeLine{154 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// SUB\_SERVER\_HPP\_}}

\end{DoxyCode}
